targets=(
  "centos"
  "ubuntu"
)
pkgname="carbonio-timezone-data"
pkgver="3.0.5"
pkgrel="1"
arch="amd64"
pkgdesc="Carbonio Timezone Data"
pkgdesclong=(
  "Carbonio Timezone Data"
)
maintainer="Zextras <packages@zextras.com>"
url="https://zextras.com"
depends=(
  "carbonio-core"
)
section="mail"
priority="optional"

package() {
  cd "${srcdir}"/../../
  install -Ddm755 "${pkgdir}/opt/zextras/jetty_base/webapps/zimbra/WEB-INF/classes/messages"
  rsync -a opt/zextras/jetty_base/webapps/zimbra/WEB-INF/classes/messages/TzMsg* \
    "${pkgdir}/opt/zextras/jetty_base/webapps/zimbra/WEB-INF/classes/messages"

  install -Ddm755 "${pkgdir}/opt/zextras/jetty_base/webapps/zimbraAdmin/WEB-INF/classes/messages"
  rsync -a opt/zextras/jetty_base/webapps/zimbraAdmin/WEB-INF/classes/messages/TzMsg* \
    "${pkgdir}/opt/zextras/jetty_base/webapps/zimbraAdmin/WEB-INF/classes/messages"

  install -D opt/zextras/conf/timezones.ics \
    "${pkgdir}/opt/zextras/conf/timezones.ics"
  install -D opt/zextras/jetty_base/webapps/zimbra/js/ajax/util/AjxTimezoneData.js \
    "${pkgdir}/opt/zextras/jetty_base/webapps/zimbra/js/ajax/util/AjxTimezoneData.js"    
  install -D opt/zextras/jetty_base/webapps/zimbraAdmin/js/ajax/util/AjxTimezoneData.js \
    "${pkgdir}/opt/zextras/jetty_base/webapps/zimbraAdmin/js/ajax/util/AjxTimezoneData.js"
}
